(()=>{var e={511:function(e){var r;r=function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=2)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,r){var t={};for(var n in e)t[n]=e[n];return t.target=t.currentTarget=r,t}r.configEvent=o,r.hook=function(e){function r(r){return function(){var t=this.hasOwnProperty(r+"_")?this[r+"_"]:this.xhr[r],n=(e[r]||{}).getter;return n&&n(t,this)||t}}function t(r){return function(t){var n=this.xhr,s=this,i=e[r];if("on"===r.substring(0,2))s[r+"_"]=t,n[r]=function(i){i=o(i,s),e[r]&&e[r].call(s,n,i)||t.call(s,i)};else{var a=(i||{}).setter;t=a&&a(t,s)||t,this[r+"_"]=t;try{n[r]=t}catch(e){}}}}function s(r){return function(){var t=[].slice.call(arguments);if(e[r]){var n=e[r].call(this,t,this.xhr);if(n)return n}return this.xhr[r].apply(this.xhr,t)}}return window._rxhr=window._rxhr||XMLHttpRequest,XMLHttpRequest=function(){var e=new window._rxhr;for(var o in e){var i="";try{i=n(e[o])}catch(e){}"function"===i?this[o]=s(o):Object.defineProperty(this,o,{get:r(o),set:t(o),enumerable:!0})}var a=this;e.getProxy=function(){return a},this.xhr=e},window._rxhr},r.unHook=function(){window._rxhr&&(XMLHttpRequest=window._rxhr),window._rxhr=void 0}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.proxy=function(e){if(n)throw"Proxy already exists";return n=new g(e)},r.unProxy=function(){n=null,(0,o.unHook)()};var n,o=t(0),s=["load","loadend","timeout","error","readystatechange","abort"],i=s[0],a=s[1],u=s[2],c=s[3],f=s[4],l=s[5];function d(e){return e.watcher||(e.watcher=document.createElement("a"))}function h(e,r){var t,n=e.getProxy(),s="on"+r+"_",i=(0,o.configEvent)({type:r},n);n[s]&&n[s](i),"function"==typeof Event?t=new Event(r,{bubbles:!1}):(t=document.createEvent("Event")).initEvent(r,!1,!0),d(e).dispatchEvent(t)}function p(e){this.xhr=e,this.xhrProxy=e.getProxy()}function y(e){function r(e){p.call(this,e)}return r.prototype=Object.create(p.prototype),r.prototype.next=e,r}p.prototype=Object.create({resolve:function(e){var r=this.xhrProxy,t=this.xhr;r.readyState=4,t.resHeader=e.headers,r.response=r.responseText=e.response,r.statusText=e.statusText,r.status=e.status,h(t,f),h(t,i),h(t,a)},reject:function(e){this.xhrProxy.status=0,h(this.xhr,e.type),h(this.xhr,a)}});var v=y((function(e){var r=this.xhr;for(var t in e=e||r.config,r.withCredentials=e.withCredentials,r.open(e.method,e.url,!1!==e.async,e.user,e.password),e.headers)r.setRequestHeader(t,e.headers[t]);r.send(e.body)})),m=y((function(e){this.resolve(e)})),w=y((function(e){this.reject(e)}));function g(e){var r=e.onRequest,t=e.onResponse,n=e.onError;function i(e,r,t){var o=new w(e),s={config:e.config,error:t};n?n(s,o):o.next(s)}function a(){return!0}function p(e,r){return i(e,0,r),!0}function y(e,r){return 4===e.readyState&&0!==e.status?function(e,r){var n=new m(e);if(!t)return n.resolve();var o={response:r.response,status:r.status,statusText:r.statusText,config:e.config,headers:e.resHeader||e.getAllResponseHeaders().split("\r\n").reduce((function(e,r){if(""===r)return e;var t=r.split(":");return e[t.shift()]=function(e){return e.replace(/^\s+|\s+$/g,"")}(t.join(":")),e}),{})};t(o,n)}(e,r):4!==e.readyState&&h(e,f),!0}return(0,o.hook)({onload:a,onloadend:a,onerror:p,ontimeout:p,onabort:p,onreadystatechange:function(e){return y(e,this)},open:function(e,t){var n=this,s=t.config={headers:{}};s.method=e[0],s.url=e[1],s.async=e[2],s.user=e[3],s.password=e[4],s.xhr=t;var a="on"+f;t[a]||(t[a]=function(){return y(t,n)});var d=function(e){i(t,0,(0,o.configEvent)(e,n))};if([c,u,l].forEach((function(e){var r="on"+e;t[r]||(t[r]=d)})),r)return!0},send:function(e,t){var n=t.config;if(n.withCredentials=t.withCredentials,n.body=e[0],r){var o=function(){r(n,new v(t))};return!1===n.async?o():setTimeout(o),!0}},setRequestHeader:function(e,r){return r.config.headers[e[0].toLowerCase()]=e[1],!0},addEventListener:function(e,r){var t=this;if(-1!==s.indexOf(e[0])){var n=e[1];return d(r).addEventListener(e[0],(function(r){var s=(0,o.configEvent)(r,t);s.type=e[0],s.isTrusted=!0,n.call(t,s)})),!0}},getAllResponseHeaders:function(e,r){var t=r.resHeader;if(t){var n="";for(var o in t)n+=o+": "+t[o]+"\r\n";return n}},getResponseHeader:function(e,r){var t=r.resHeader;if(t)return t[(e[0]||"").toLowerCase()]}})}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0);Object.defineProperty(r,"hook",{enumerable:!0,get:function(){return n.hook}}),Object.defineProperty(r,"unHook",{enumerable:!0,get:function(){return n.unHook}});var o=t(1);Object.defineProperty(r,"proxy",{enumerable:!0,get:function(){return o.proxy}}),Object.defineProperty(r,"unProxy",{enumerable:!0,get:function(){return o.unProxy}})}])},e.exports=r()}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var s=r[n]={exports:{}};return e[n].call(s.exports,s,s.exports,t),s.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{"use strict";var e=t(511);const r={};var n={},o=new TextDecoderLite("utf-8"),s=Object.prototype.toString;function i(e,r){let t="[object "+e+"]";return s.call(r)==t}r.arrayBufferToString=function(e){var r=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(r))},r.bufferToString=function(e){return o.decode(e)},r.arrayBufferToBlob=function(e,r){return new Blob([new Uint8Array(e,0,e.byteLength)],r)},r.bufferToBlob=function(e,r){return new Blob([e],r)},r.copyUint8Array=function(e){var r=new ArrayBuffer(e.byteLength),t=new Uint8Array(r);return t.set(new Uint8Array(e)),t},r.getMacros=function(){return n},String.prototype._getPath=function(){var e=this.indexOf("\\")>=0?this.lastIndexOf("\\"):this.lastIndexOf("/");return this.substring(0,e)};class a{constructor(){}proxy(r){return(0,e.proxy)(r)}unProxy(){(0,e.unProxy)()}}class u{constructor(){this._originalFetch=window.fetch}#e(e,r){if(e.headers={},i(["Function","AsyncFunction"],r.key))for(let t of r.keys())e.headers[t]=r.get(t);else i("Object",r)&&(e.headers=Object.assign(e.headers,r))}proxy(e){var t=e.onRequest,n=e.onError,o=e.onResponse,s=this;window.fetch=function(e,a={}){return new Promise(((u,c)=>{var f={url:e,method:a.method||"GET",fetch:{onload:function(e){var t=e.target,n=r.copyUint8Array(t.response);u({text:function(){return"ArrayBuffer"==n.constructor.name?Promise.resolve(r.arrayBufferToString(n)):i("Array",n)||i("Uint8Array",n)?Promise.resolve(r.bufferToString(n)):Promise.resolve(n)},json:function(){return"ArrayBuffer"==n.constructor.name?Promise.resolve(JSON.parse(r.arrayBufferToString(n))):i("Array",n)||i("Uint8Array",n)?Promise.resolve(JSON.parse(r.bufferToString(n))):i("String",n)?Promise.resolve(JSON.parse(n)):Promise.resolve(n)},blob:function(){var e=t.responseHeaders["content-type"];return"ArrayBuffer"==n.constructor.name?Promise.resolve(r.arrayBufferToBlob(n,{type:e})):i("Array",n)||i("Uint8Array",n)?Promise.resolve(r.bufferToBlob(n,{type:e})):Promise.resolve(n)}})},onerror:function(e){c(e)}}},l=a.headers;l&&s.#e(f,l),t&&t(f,{next:function(r){s._originalFetch(e,a).then((e=>{u(e),o&&o(e)})).catch((e=>{n&&n(e),c(e)}))}})}))}}unProxy(){window.fetch=this._originalFetch}}THING.Utils.loadJSONFileAsync=function(e){return new Promise(((r,t)=>{var n=new XMLHttpRequest;n.open("GET",e),n.responseType="json",n.send(),n.onload=function(){r(n.response)}}))};var c={};class f{#r=null;#t=null;#n=null;static#o=null;#s(e){var r="";if(e)for(var t=Object.keys(e),n=0;n<t.length;n++){var o=t[n];r+=`${o}: ${e[o]}`,n!=t.length-1&&(r+="\n")}return r}#i(e){var r="";return(r+=this.#s(f.#o))+this.#s(e.headers)}#a(e,t,n){return"arraybuffer"==e.responseType?t.buffer.slice(t.byteOffset,t.byteOffset+t.length):"json"==e.responseType?function(e){if(e)return"ArrayBuffer"==e.constructor.name?JSON.parse(arrayBufferToString(e)):i("Array",e)||i("Uint8Array",e)?JSON.parse(o.decode(e)):JSON.parse(e)}(t):"blob"==e.responseType?new Blob([t]):r.bufferToString(t)}#u(e,r,t){Object.defineProperties(e,{responseHeaders:{get:function(){return t}},response:{get:function(){return r}},responseText:{get:function(){return r}},status:{get:function(){return 200}},readyState:{get:function(){return 4}}})}#c(){var e=this;(new a).proxy({onRequest:(r,t)=>{var n=r.xhr;if("HEAD"==r.method)t.next(r);else if(this.#t.isEncryptedResource(r.url))if(r.body instanceof FormData)t.next(r);else{var o=r.method,s=r.url,i=this.#i(r),a=r.body||"";this.#t.loadEncryptedResource(o,s,i,a,((r,t)=>{var o=this.#a(n,r,t);e.#u(n,o,t),n.onload&&n.onload({target:n}),n.onreadystatechange&&n.onreadystatechange({target:n})}),(e=>{n.onerror(e)}))}else t.next(r)},onError:(e,r)=>{console.error(e.error.desc),r.next(e.error)},onResponse:(e,r)=>{r.next(e)}})}#f(e){var t=e.Helper;c.wasmModule=e,this.#r=t.getFactory();var n=t.getPlatformInfo();n&&(r.getMacros().WASM={VERSION:n.version,COMPILETIME:n.compileTime},"undefined"!=typeof THING&&(THING.WASM=THING.WASM||{},THING.WASM.VERSION=n.version,THING.WASM.COMPILETIME=n.compileTime))}#l(){var e=this;(new u).proxy({onRequest:(r,t)=>{var n=r.fetch;if("HEAD"==r.method)t.next(r);else if(this.#t.isEncryptedResource(r.url)){var o=r.method,s=r.url,i=this.#i(r),a=r.body||"";this.#t.loadEncryptedResource(o,s,i,a,((r,t)=>{e.#u(n,r,t),n.onload({target:n})}),(e=>{n.onerror(e)}))}else t.next(r)},onError:(e,r)=>{console.error(e.error.desc),r.next(e.error)},onResponse:(e,r)=>{r.next(e)}})}#d(e,r={}){return this.#n=this.#n||new Promise(((t,n)=>{const o=THING.auth_login_name;delete THING.auth_login_name;var s=r.rootPath||`${window.location.href._getPath()}`,i=r.wasmRootPath||THING.auth_wasm_root_path;s?i?e(`${i}/thing.wasm.js`,{load:e=>{if(this.#f(e),this.#t=this.#r.createResourceDownloader(),this.#t){var a={},u=`${i}/thing.wasm.worker.js`;u&&(a.aliveTime=r.workersAliveTime||6e4,a.maxNumber=r.workersMaxNumber||8,a.url=u),this.#t.init({rootPath:s,worker:a}),o&&this.#t.login(o),this.#c(),this.#l(),t()}else n(StringEncoder.toText("Initialize auth failed, due to create resource downloader failed"))}}):n(StringEncoder.toText("Initialize auth failed, due to wasm url is invalid")):n(StringEncoder.toText("Initialize auth failed, due to root path is invalid"))})),this.#n}check(e){if(!c.initPromise&&"undefined"!=typeof THING){var r=THING.auth_wasm_root_path;if(r){delete THING.auth_wasm_root_path,c.initPromise=new y;var t={};t.wasmRootPath=r,t.rootPath=THING.root_path,this.#d(e,t).then((()=>{c.initPromise.resolve()}))}}}static setHttpRequestHeaders(e){f.#o=e}}function l(e,r){THING.Utils.dynamicLoad(e,(()=>{var e=r.load,t=r.error;if(TWASMModule)TWASMModule().then((function(r){e&&e(r)}));else if(Module){var n=new y;Module.getWaitPromise=function(){return n},n.then((()=>{window.loadedWasm=!0,e&&e(Module)}))}else t&&t()}))}var d,h=new f;function p(){h.check(l)}THING.Utils.waitForAuth=function(){return void 0!==c.wasmModule?(p(),Promise.resolve()):d=d||new Promise(((e,r)=>{var t=setInterval((()=>{var r=c.wasmModule;void 0!==r?(clearInterval(t),t=setInterval((()=>{r.ResourceDownloader&&r.ResourceDownloader.isReady()&&(clearInterval(t),e())}),100)):p()}),100)}))};class y{constructor(e){var r=this;this._resolved=!1,this._rejected=!1,this._promise=new Promise(((t,n)=>{r._resolved?t():r._rejected?n():(this._resolve=t,this._reject=n),e&&e(t,n)}))}resolve(){this._resolve?this._resolve.apply(this._promise,arguments):this._resolved=!0}reject(){this._reject?this._reject.apply(this._promise,arguments):this._rejected=!0}then(){return this._promise.then.apply(this._promise,arguments),this}catch(){return this._promise.catch.apply(this._promise,arguments),this}finally(){return this._promise.finally.apply(this._promise,arguments),this}get pending(){return!this._resolved&&!this._resolved}get resolved(){return this._resolved}get rejected(){return this._rejected}}THING.LOADWASM={VERSION:"1.0.8"}})()})();